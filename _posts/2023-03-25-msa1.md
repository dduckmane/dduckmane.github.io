---
layout: single
title:  "MSA란"
categories: MSA
tag: [개념]

author_profile: false
sidebar:
    nav: "counts"
---

# MSA 란

## 필요성

데이터 양이 급증함에 따라 그를 처리할 수 있고 확장가능한 가용성이 보장되는 클라우드 네이티브 아카텍처 형태로 it 시스템으로 발전되어 왔습니다.

그 클라우드 네이티브 아키텍쳐가 마이크로 서비스로 개발이 되고 

마이크로 서비스를 사용하면서 장애에 유연하게 처리 가능하며 각 서비스에 대해 독립적으로 개발하고 배포가 가능해집니다.

## 정의

대형 소프트웨어 프로젝트의 기능들을 작고 독립적인 모듈로 분해하여 서비스를 제공하는 아키텍처 입니다.

## 어느 상황에서 도입이 되야 할까

마이크로 서비스를 도입한다면 ROI(return of investment, 투자 대비 효과) 를 고려 해야합니다.

마이크로 서비스를 도입하면 복잡도는 증가하고 api 호출을 많아집니다. 이런 특징에 의해서

오히려 장애가 증가 할 수 있기 때문에 고려를 해야합니다.

대용량 트레픽에 장애가 유발될 수 있는 상황이나 특정 서비스만 개발과 배포가 자주 일어지는 경우에 

도입을 고려해볼 필요가 있습니다.

## 장점/단점

장점 

1. 장애가 있을 시에 그 외 서비스들은 독립적으로 서비스할 수 있습니다.
2. 각각의 서비스에 대해서 독립적으로 개발하고 배포할 수 있습니다.

단점 

: 복잡도는 올라가고 API 호출이 많아집니다.

## 흐름

![Uploading image.png…]()

1. 클라이언트는 필요한 서비스를 api gateway 를 통해 요청한다.
2. 서비스 라우터는 요청을 받아 서비스 디스커버리에게 필요한 마이크로 서비스의 위치를 알려준다.
3. 이 때 각각의 서비스가 분산된 인스턴스를 가지고 있다면 load balancer 에 의해 서비스로 이동됩니다.
4. 그리고 서비스들은 각각의 독립적인 로직/ 언어로 구성이 되어있고 각각에 맞는 데이터베이스를 사용합니다.
5. 각각의 데이터베이스안에 저장되어 있는 데이터들은 kafka 라는 메시징 서비스를 이용해서 서로 간에 필요한 데이터 동기화를 한다.
6. 그리고 배포환경에서는 CI/CD automation 을 통해서 자동으로 지속적인 통합/배포가 이루어집니다.
